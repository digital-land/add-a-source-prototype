{% extends 'layouts/base.html' %}
{% from 'components/source-card.html' import summarySourceCard %}

{% block content %}
<h1 class="govuk-heading-xl">Resource record</h1>

<dl class="govuk-summary-list">
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Resource
    </dt>
    <dd class="govuk-summary-list__value">
      {{ resource.resource }}
    </dd>
  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Collected on
    </dt>
    <dd class="govuk-summary-list__value">
      {{ resource.start_date }}
    </dd>
  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Bytes
    </dt>
    <dd class="govuk-summary-list__value">
      {{ resource.bytes }}
    </dd>
  </div>
  <div class="govuk-summary-list__row">
    <dt class="govuk-summary-list__key">
      Mime type
    </dt>
    <dd class="govuk-summary-list__value">
      {{ resource['mime-type'] }}
    </dd>
  </div>
</dl>


<div class="govuk-grid-row govuk-!-margin-top-9">
  <div class="govuk-grid-column-two-thirds">
    <h3 class="govuk-heading-m">This resource was collected from</h3>

    <ul class="govuk-list">
      {% for endpoint in resource.endpoints %}
        {% for source in endpoint.sources  %}
        <li>
          {{ summarySourceCard({
            "source": source
          }) }}
        </li>
        {% endfor %}
      {% endfor %}
    </ul>
  </div>
</div>


{% endblock content %}
