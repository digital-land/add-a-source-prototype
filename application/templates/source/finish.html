{% extends 'layouts/base.html' %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <div class="govuk-panel govuk-panel--confirmation">
      <h1 class="govuk-panel__title">
        Source saved
      </h1>
    </div>

    <p class="govuk-body">We have saved the source.</p>
    <p class="govuk-body">
      <a href="{{ url_for('source.source', source_hash=source.source) }}" class="govuk-link">See source record</a>
    </p>

    <p class="govuk-body">For the collector to attempt to collect from this source the {{ source.collection.name }} collection repo on github needs to be updated.</p>

    <h2 class="govuk-heading-m">What do you want to do next?</h2>

    <h3 class="govuk-heading-s">I have more sources to add</h3>

    <p class="govuk-body">If you want to add more sources, you should do that before downloading the csv files you need to upload to github.</p>

    <p class="govuk-body">
      <a href="{{ url_for('source.add') }}" class="govuk-link">Add another source.</a>
    </p>

    <h3 class="govuk-heading-s">I have finished adding sources</h3>

    <p class="govuk-body">If you have finished adding sources you can now download the csv files you need to then upload to github.</p>

    <p class="govuk-body">First download the endpoint and source csv files.</p>

    <ul class="govuk-list">
      <li><a href="{{ url_for('source.source_csv', source_hash=source.source, filename='endpoint') }}" class="govuk-link">Download the endpoint.csv file</a></li>
      <li><a href="{{ url_for('source.source_csv', source_hash=source.source, filename='source') }}" class="govuk-link">Download the source.csv file</a></li>
    </ul>

    <p class="govuk-body">Then, upload and commit these files to the {{ source.collection.name }} collection repo.</p>

    <p class="govuk-body">
      The next time the collectors run it will try to collect from the source you added.
    </p>
    <p class="govuk-body">
      If a resource is collected you might need to map the column names and values.
    </p>

    <p class="govuk-body">
      <a href="{{ url_for('resource.search') }}" class="govuk-link">Map fields for a resource</a>
    </p>
  </div>
</div>
{% endblock content %}
