{% extends 'layouts/base.html' %}
{% from 'components/source-card.html' import summarySourceCard %}

{% block content %}
<h1 class="govuk-heading-xl">Find source</h1>

<div class='govuk-grid-row'>
  <div class="govuk-grid-column-two-thirds">

    <form method="POST" action="" class="govuk-form">
      {{ form.hidden_tag() }}
      <div class='govuk-form-group{% if form.source.errors %} govuk-form-group--error{% endif %}'>
        <label class='govuk-label' for='source'>Source</label>
        {% if form.source.errors %}
        <p class='govuk-error-message'>
          {% for error in form.source.errors %}<span class='govuk-visually-hidden'>Error:</span> {{ error }}{% endfor %}
        </p>
        {% endif %}
        {{ form.source(required=False, class="govuk-input")}}
      </div>
      <div class="govuk-form-group">
        <button class='govuk-button' data-module='govuk-button'>
        Find
        </button>
      </div>
    </form>

      <hr class="govuk-section-break--visible govuk-section-break--l" />
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-l">Recently added sources</h2>
    <ol class="govuk-list">
      {% for source in sources %}
      <li>
        {{ summarySourceCard({
          "source": source
        }) }}
      </li>
      {% endfor %}
    </ol>
  </div>
</div>

{% endblock content %}
